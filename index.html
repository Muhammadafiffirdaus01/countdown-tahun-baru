<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Countdown Tahun Baru Islami</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
body{
  min-height:100vh;
  background:radial-gradient(circle at top,#0f3d2e,#020b08);
  display:flex;align-items:center;justify-content:center;
  color:#f5f5f5;overflow:hidden;text-align:center;
}
.card{
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(16px);
  border:1px solid rgba(212,175,55,.35);
  padding:26px 22px;
  border-radius:24px;
  width:92%;max-width:460px;
  box-shadow:0 30px 60px rgba(0,0,0,.7);
  z-index:2;
}
h1{font-size:1.7rem;color:#d4af37;margin-bottom:6px}
.subtitle{font-size:.85rem;opacity:.9;margin-bottom:14px}
.timer{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:14px}
.box{background:rgba(15,61,46,.6);padding:14px 6px;border-radius:16px;border:1px solid rgba(212,175,55,.25)}
.box span{font-size:1.55rem;font-weight:700;display:block;color:#d4af37}
.box small{font-size:.7rem;opacity:.85}

.newyear{display:none;font-size:1.9rem;font-weight:700;margin-bottom:10px;color:#ffd700;animation:glow 1.2s infinite alternate}

.doa-box{margin-top:12px;font-size:.78rem;line-height:1.6;opacity:.95}
.arab{font-size:1rem;line-height:1.9;direction:rtl;color:#e8f6ef}
.latin{font-style:italic;margin-top:4px;color:#cfe9dc}
.arti{margin-top:6px;opacity:.85}

.ayat{margin-top:14px;font-size:.85rem;line-height:1.7;opacity:0;transition:opacity 2s}
.ayat.show{opacity:1}

.footer{margin-top:12px;font-size:.7rem;opacity:.8;color:#d4af37}

@keyframes glow{from{text-shadow:0 0 6px #ffd700}to{text-shadow:0 0 24px #ffd700}}
canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}
audio{display:none}
</style>
</head>
<body>
<canvas id="fireworks"></canvas>

<div class="card">
<h1>‚è≥ Menuju Tahun Baru</h1>
<div class="subtitle">Muhasabah & doa menyambut waktu baru ‚ú®</div>

<div id="countdown" class="timer">
<div class="box"><span id="days">0</span><small>Hari</small></div>
<div class="box"><span id="hours">0</span><small>Jam</small></div>
<div class="box"><span id="minutes">0</span><small>Menit</small></div>
<div class="box"><span id="seconds">0</span><small>Detik</small></div>
</div>

<div id="happy" class="newyear">üéâ Selamat Tahun Baru üéâ</div>

<div id="doa" class="doa-box">
<div class="arab"></div>
<div class="latin"></div>
<div class="arti"></div>
</div>

<div id="ayat" class="ayat"></div>

<div id="footer" class="footer"></div>
</div>

<audio id="bgm" loop>
<source src="https://cdn.pixabay.com/audio/2023/10/31/audio_6b5b9a0d90.mp3" type="audio/mpeg">
</audio>

<script>
const bgm=document.getElementById('bgm');
document.body.addEventListener('click',()=>bgm.play(),{once:true});

const doaAkhir={
 arab:"ÿßŸÑŸÑŸëŸ∞ŸáŸèŸÖŸéŸë ŸÖŸéÿß ÿπŸéŸÖŸêŸÑŸíÿ™Ÿè ŸÅŸêŸä ŸáŸ∞ÿ∞ŸêŸáŸê ÿßŸÑÿ≥ŸéŸëŸÜŸéÿ©Ÿê ŸÖŸêŸÖŸéŸëÿß ŸÜŸéŸáŸéŸäŸíÿ™ŸéŸÜŸêŸä ÿπŸéŸÜŸíŸáŸè ŸÅŸéŸÑŸéŸÖŸí ÿ£Ÿéÿ™Ÿèÿ®Ÿí ŸÖŸêŸÜŸíŸáŸè",
 latin:"Allahumma maa ‚Äòamiltu fii haadzihis sanati mimmaa nahaitanii ‚Äòanhu falam atub minhu",
 arti:"Ya Allah, apa saja dosa yang aku lakukan di tahun ini dan belum sempat aku taubati, maka ampunilah aku.",
 footer:"Semoga Allah mengampuni dosa-dosa di tahun yang telah berlalu."
};

const doaAwal={
 arab:"ÿßŸÑŸÑŸëŸ∞ŸáŸèŸÖŸéŸë ÿ£ŸéŸÜŸíÿ™Ÿé ÿßŸÑŸíÿ£Ÿéÿ®ŸéÿØŸêŸäŸèŸë ÿßŸÑŸíŸÇŸéÿØŸêŸäŸÖŸè ŸàŸéŸáŸ∞ÿ∞ŸêŸáŸê ÿ≥ŸéŸÜŸéÿ©Ÿå ÿ¨ŸéÿØŸêŸäŸíÿØŸéÿ©Ÿå",
 latin:"Allahumma antal abadiyyul qadiim wa haadzihis sanatun jadiidah",
 arti:"Ya Allah, Engkau Yang Maha Kekal, dan ini adalah tahun yang baru. Jadikanlah aku lebih taat kepada-Mu.",
 footer:"Semoga tahun baru dipenuhi iman, amal saleh, dan keberkahan."
};

const ayatList=[
"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸëŸ∞ŸáŸé ŸÑŸéÿß ŸäŸèÿ∫ŸéŸäŸêŸëÿ±Ÿè ŸÖŸéÿß ÿ®ŸêŸÇŸéŸàŸíŸÖŸç ÿ≠Ÿéÿ™ŸéŸëŸâŸ∞ ŸäŸèÿ∫ŸéŸäŸêŸëÿ±ŸèŸàÿß ŸÖŸéÿß ÿ®Ÿêÿ£ŸéŸÜŸÅŸèÿ≥ŸêŸáŸêŸÖŸí (QS. Ar-Ra‚Äôd: 11)",
"ŸàŸéÿ£ŸéŸÜŸí ŸÑŸéŸäŸíÿ≥Ÿé ŸÑŸêŸÑŸíÿ•ŸêŸÜŸíÿ≥ŸéÿßŸÜŸê ÿ•ŸêŸÑŸéŸëÿß ŸÖŸéÿß ÿ≥ŸéÿπŸéŸâŸ∞ (QS. An-Najm: 39)",
"ŸÅŸéÿ•Ÿêÿ∞Ÿéÿß ŸÅŸéÿ±Ÿéÿ∫Ÿíÿ™Ÿé ŸÅŸéÿßŸÜŸíÿµŸéÿ®Ÿí ‚Ä¢ ŸàŸéÿ•ŸêŸÑŸéŸâŸ∞ ÿ±Ÿéÿ®ŸêŸëŸÉŸé ŸÅŸéÿßÿ±Ÿíÿ∫Ÿéÿ®Ÿí (QS. Al-Insyirah: 7‚Äì8)"
];

function setDoa(d){
 document.querySelector('.arab').innerText=d.arab;
 document.querySelector('.latin').innerText=d.latin;
 document.querySelector('.arti').innerText=d.arti;
 document.getElementById('footer').innerText=d.footer;
}

let ayatIndex=0;
function rotateAyat(){
 const ayat=document.getElementById('ayat');
 ayat.classList.remove('show');
 setTimeout(()=>{
   ayat.innerText=ayatList[ayatIndex];
   ayat.classList.add('show');
   ayatIndex=(ayatIndex+1)%ayatList.length;
 },2000);
}
setInterval(rotateAyat,8000);
rotateAyat();

const nextYear=new Date(new Date().getFullYear()+1,0,1).getTime();
const timer=setInterval(()=>{
 const now=new Date().getTime();
 const d=nextYear-now;
 if(d<=0){
  clearInterval(timer);
  document.getElementById('countdown').style.display='none';
  document.getElementById('happy').style.display='block';
  setDoa(doaAwal);
  startFireworks();
  return;
 }
 setDoa(doaAkhir);
 days.innerText=Math.floor(d/(1000*60*60*24));
 hours.innerText=Math.floor((d%(1000*60*60*24))/(1000*60*60));
 minutes.innerText=Math.floor((d%(1000*60*60))/(1000*60));
 seconds.innerText=Math.floor((d%(1000*60))/1000);
},1000);

const canvas=document.getElementById('fireworks');
const ctx=canvas.getContext('2d');
canvas.width=innerWidth;canvas.height=innerHeight;
function startFireworks(){
 setInterval(()=>{
  const x=Math.random()*canvas.width;
  const y=Math.random()*canvas.height/2;
  for(let i=0;i<30;i++){
   ctx.beginPath();
   ctx.arc(x,y,Math.random()*3,0,Math.PI*2);
   ctx.fillStyle=`hsl(${Math.random()*360},100%,60%)`;
   ctx.fill();
  }
 },450);
}

onresize=()=>{canvas.width=innerWidth;canvas.height=innerHeight};
</script>
</body>
</html>
